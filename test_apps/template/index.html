<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <title>Template</title>

    <style>
      html, body {
        width: 100%;
        height: 100%;
        background-color: pink;
        overflow: hidden;

      }

      #test {
        opacity: 1;
        transition:
          transform 0.5s ease,
          opacity 0.5s ease,
          visibility 0.5s ease;
        min-width: 200px;
        min-height: 200px;
        background-color: red;
        padding: 1rem 1rem 0 1rem;
      }

      #test .fragment {
        min-width: 15px;
        min-height: 15px;
        display: inline-block;
        background-color: green;
        margin: 1px 1px 1px 1px;
      }

      #test.activated {
        transform: scale(2);
        opacity: 0;
        visibility: hidden;
      }

      #trigger {
        font-size: 24pt;
      }

      #reduce-text{
        font-size: 18pt;
      }
    </style>


  </head>

  <body>
    <p id="from">#From</p>
    <p id="to">#To</p>
    <p id="trigger">Trigger me</p>
    <p id="reduce-text">Reduce DOM</p>
    <div id="test">
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
      <div class="fragment"></div>
    </div>
  </body>

    <script>

      var tsEnd = () =>
      {
        document.querySelector('#to').textContent = Date.now()
      }

      document.querySelector('#trigger')
        .addEventListener('mousedown', function()
        {
          if (true !== window.TRIGGERED)
          {
            window.TRIGGERED = true;
            document.querySelector('#trigger').textContent = "Restore me";
            document.querySelector('#from').textContent = Date.now()
            document.querySelector('#test').addEventListener('transitionend', tsEnd);
            document.querySelector('#test')
              .classList.add('activated');
          }
          else
          {
            window.TRIGGERED = false;
            document.querySelector('#trigger').textContent = "Trigger me";
            document.querySelector('#from').textContent = "#From"
            document.querySelector('#to').textContent = "#To"
            document.querySelector('#test')
              .classList.remove('activated');
            document.querySelector('#test').removeEventListener('transitionend', tsEnd);
          }
        });

      document.querySelector('#reduce-text')
        .addEventListener('mousedown', function()
        {
          if (true !== window.REDUCE)
          {
            document.querySelector('#reduce-text').textContent = "Populate DOM"
            window.REDUCE = true;
            document.querySelector('#test').innerHTML = "";
          }
          else
          {
            document.querySelector('#reduce-text').textContent = "Reduce DOM"
            window.REDUCE = false;
            document.querySelector('#test').innerHTML = 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' + 
'<div class="fragment"></div>' 
          }
        });
    </script>
</html>
